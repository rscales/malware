package url_cache

import (
	"log"
)

type URLCache interface {
	AddURL(url string) error
	CheckForURL(url string) (bool, error)
}

func CreateInstance(arg string) URLCache {
	var urlCache URLCache

	if arg == "" {
		log.Println("creating local url cache")
		urlCache = &LocalURLCache{urls: make(map[string]struct{})}
	} else {
		log.Printf("creating distributed url cache with server list:%s\n", arg)
		urlCache = CreateDistributedURLCache(arg)
	}

	return urlCache
}
